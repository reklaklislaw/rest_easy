import nytimes.def

+doc: |
    The New York Times 


    Documentation:
      http://http://developer.nytimes.com/docs/read

+baseurl:
  'http://api.nytimes.com/svc'

+children:
  articles:
    +children:
      v2:                    
        +http_method: GET
        +path: '/search/v2/articlesearch{responseFormat}?{0}'
        +input_format: key_value
        +output_format: json
        +requirements:
          +mandatory: [apiKey, responseFormat]
        +children:
          apiKey: *apikey

          responseFormat:
            +mode: V
            +this: *responseformat

          query: *std-q

          filteredQuery:
            +mode: P+MK+V
            +prefix: 'fq'          
            +syntax: 
              +args: ':'
            +this: *filteredquery
            +children:
              body: 
                <<: *body
                +children:
                  search: *body-search 
              creative_works: 
                <<: *creativeworks
                +children:
                  contains: *creativeworks-contains       
              day_of_week: *dayofweek
              document_type: *documenttype 
              glocations: 
                <<: *glocations
                +children:
                  contains: *glocations-contains     
              headline: 
                <<: *headline
                +children:
                  search: *headline-search 
              kicker: 
                <<: *kicker
                +children:
                  contains: *kicker-contains 
              news_desk: 
                <<: *newsdesk
                +children:
                  contains: *newsdesk-contains
              organizations:
                +this: *organizations
                +children:
                  contains: *organizations-contains
              persons:
                +this: *persons
                +children:
                  contains: *persons-contains
              pub_date: *pubdate
              pub_year: *pubyear
              secpg: *secpg
              source:
                +this: *source
                +children:
                  contains: *source-contains 
              subject:
                +this: *subject
                +children:
                  contains: *subject-contains
              section_name:
                +this: *sectionname
                +children:
                  contains: *sectionname-contains
              type_of_material:
                +this: *typeofmaterial
                +children:
                  contains: *typeofmaterial-contains
              web_url: *weburl
              word_count: *wordcount

          date: 
            +children:
              begin: *begindate
              end: *enddate

          sort: *sort

          fl: 
            +mode: P+MK
            +prefix: 'fl'
            +syntax:
              +multi: ','
            +children: 
              web_url: 
                <<: *weburl
                +expected_value: Null
              snippet: *snippet
              lead_paragraph: *leadparagraph
              abstract: *abstract
              print_page: *printpage
              blog: *blog
              source:
                <<: *source
                +expected_value: Null
              multimedia: *multimedia
              headline: 
                <<: *headline
                +expected_value: Null
              keywords: *keywords
              pub_date: 
                <<: *pubdate
                +expected_value: Null
              document_type: 
                <<: *documenttype
                +expected_value: Null
              news_desk: 
                <<: *newsdesk
                +expected_value: Null
              byline: *byline
              type_of_material:
                <<: *typeofmaterial
                +expected_value: Null
              '@id': *-id
              word_count: 
                <<: *wordcount
                +expected_value: Null

          hl: *hl
          page: *std-page

          facetField:
            +mode: P+K+V
            +prefix:: 'facet_field'
            +syntax:
              +multi: ','
            +children: 
              section_name: 
                <<: *sectionname
                +expected_value: Null
              document_type:
                <<: *documenttype
                +expected_value: Null
              type_of_material:
                <<: *typeofmaterial
                +expected_value: Null
              source: 
                <<: *source
                +expected_value: Null
              day_of_week: 
                <<: *dayofweek
                +expected_value: Null

          facetFilter: *facetfilter 
          callback: *std-callback
